<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Detective-X | ระบบบันทึกสืบสวน">
    <meta name="author" content="Detective-X Team">
    <meta name="theme-color" content="#3B82F6">    
    <!-- Content Security Policy (CSP) -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://script.google.com https://fonts.googleapis.com https://fonts.gstatic.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; img-src 'self' https://cdn-icons-png.flaticon.com data:; font-src 'self' https://fonts.gstatic.com; frame-src https://script.google.com; connect-src 'self' https://script.google.com; object-src 'none'; base-uri 'self'; form-action 'self'; upgrade-insecure-requests;">
    <!-- HTTPS Redirect -->
    <script>
        if (window.location.protocol !== 'https:' && window.location.hostname !== 'localhost' && window.location.hostname !== '127.0.0.1') {
            window.location.href = 'https:' + window.location.href.substring(window.location.protocol.length);
        }
    </script>
    <title>Detective-X | ระบบบันทึกสืบสวน</title>
    <!-- ฟอนต์ที่อ่านง่ายสำหรับผู้ใช้ไทย -->
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body, html {
            height: 100%;
            width: 100%;
            overflow: hidden;
            font-family: 'Sarabun', sans-serif;
            background-color: #f5f5f5;
        }
        .container {
            height: 100vh;
            width: 100%;
            position: relative;
        }
        .iframe-container {
            position: relative;
            height: 100%;
            width: 100%;
            overflow: hidden;
        }
        iframe {
            width: 100%;
            height: 100vh;
            border: none;
            display: block;
        } 
        /* สำหรับอุปกรณ์มือถือ */
        @media (max-width: 768px) {
            /* CSS สำหรับอุปกรณ์มือถือ (ถ้าจำเป็น) */
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="iframe-container">
            <iframe 
                id="app-frame" 
                src="https://script.google.com/macros/s/AKfycbypDVXICpI13KuowqnMoRPdzxq_ZaST_xZ5Lijpx2e7EUyKd6u-MJ_wlDitp-lTNKNu2A/exec" 
                allow="geolocation; camera; microphone" 
                scrolling="yes" 
                loading="lazy"
                title="Detective-X Application"
                referrerpolicy="no-referrer-when-downgrade"
                sandbox="allow-same-origin allow-scripts allow-forms allow-popups allow-downloads">
            </iframe>
        </div>
    </div>
    
    <script>
        // บันทึกความล้มเหลวของ CSP ในคอนโซล (สำหรับการดีบัก)
        document.addEventListener('securitypolicyviolation', function(e) {
            console.error('CSP Violation:', e.blockedURI, 'violated', e.violatedDirective);
        });
    </script>
</body>
</html>
